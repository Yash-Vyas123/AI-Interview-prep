const mongoose = require('mongoose');
const dotenv = require('dotenv');
const Question = require('./models/Question');

dotenv.config();

const questions = [
    // --- DSA (50 Questions) ---
    { text: "Explain the difference between an array and a linked list.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "How do you reverse a string in O(1) space?", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "What is a hash map and how does it work?", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Implement binary search on a sorted array.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "What is the time complexity of QuickSort?", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Explain the concept of a stack vs a queue.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Detect a cycle in a linked list.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Merge two sorted linked lists.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Find the missing number in an array of 1 to n.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Check if a string is a palindrome.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Explain Depth First Search (DFS).", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Explain Breadth First Search (BFS).", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Find the maximum subarray sum (Kadane's Algorithm).", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "What is a Binary Search Tree (BST)?", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "How to validate a BST?", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Find the height of a binary tree.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Invert a binary tree.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "What is dynamic programming?", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "Solve the Climbing Stairs problem.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Explain the Knapsack problem.", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "What is a standard priority queue?", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Find the kth largest element in an array.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "What is the sliding window technique?", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Implement an LRU Cache.", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "Explain Dijkstra's algorithm.", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "What is a Trie? When would you use it?", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "Check if two strings are anagrams.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Find the duplicate number in an array.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "What is recursion?", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Generate all permutations of a string.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "What is the difference between BFS and DFS?", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Explain merge sort.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Explain heap sort.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Search in a rotated sorted array.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Find the intersection of two linked lists.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "What is the longest common subsequence?", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "Explain Bellman-Ford algorithm.", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "Determine if a graph is bipartite.", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "Count sorting algorithm explanation.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Find the lowest common ancestor in a BST.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "What is memoization?", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Rotate a matrix by 90 degrees.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Group anagrams together.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Implement a queue using stacks.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Implement a stack using queues.", type: "dsa", topic: "DSA", difficulty: "easy" },
    { text: "Trapping Rain Water problem.", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "Merge Intervals.", type: "dsa", topic: "DSA", difficulty: "medium" },
    { text: "Serialize and deserialize a binary tree.", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "Find the median of two sorted arrays.", type: "dsa", topic: "DSA", difficulty: "hard" },
    { text: "Basic bit manipulation tricks.", type: "dsa", topic: "DSA", difficulty: "medium" },

    // --- DBMS (50 Questions) ---
    { text: "What is DBMS? Explain its advantages.", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Difference between DBMS and RDBMS.", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is a Primary Key?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is a Foreign Key?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Explain Key constraints.", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is Normalization? Why is it needed?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "Explain 1NF, 2NF, 3NF.", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is BCNF?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is Denormalization?", type: "dsa", topic: "DBMS", difficulty: "hard" },
    { text: "Explain ACID properties.", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is SQL?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Difference between DDL, DML, and DCL.", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is a JOIN? List its types.", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Explain INNER JOIN vs OUTER JOIN.", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is a CROSS JOIN?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is a Self Join?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is an Index? How does it improve performance?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "Explain Clustered vs Non-Clustered Index.", type: "dsa", topic: "DBMS", difficulty: "hard" },
    { text: "What is a View in SQL?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is a Stored Procedure?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is a Trigger?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "Difference between DELETE, TRUNCATE, and DROP.", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is a Transaction?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Explain commit and rollback.", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What are the different isolation levels?", type: "dsa", topic: "DBMS", difficulty: "hard" },
    { text: "What is Locking in DBMS?", type: "dsa", topic: "DBMS", difficulty: "hard" },
    { text: "Explain Deadlock in DBMS.", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is NoSQL?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Difference between SQL and NoSQL.", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is CAP Theorem?", type: "dsa", topic: "DBMS", difficulty: "hard" },
    { text: "What is MongoDB?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is Sharding?", type: "dsa", topic: "DBMS", difficulty: "hard" },
    { text: "What is Replication?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "Explain the concept of specific Cursor in SQL.", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is a Subquery?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Explain the difference between WHERE and HAVING.", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is GROUP BY clause?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is ORDER BY clause?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Explain Entity-Relationship (ER) Model.", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is an Entity and an Attribute?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Explain different types of Relationships in DBMS.", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "What is a Candidate Key?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is a Super Key?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is a Composite Key?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is Database Schema?", type: "dsa", topic: "DBMS", difficulty: "easy" },
    { text: "Explain Three-Level Architecture of DBMS.", type: "dsa", topic: "DBMS", difficulty: "hard" },
    { text: "What is Data Independence?", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "What is Query Optimization?", type: "dsa", topic: "DBMS", difficulty: "hard" },
    { text: "Differences between UNION and UNION ALL.", type: "dsa", topic: "DBMS", difficulty: "medium" },
    { text: "How to handle NULL values in SQL?", type: "dsa", topic: "DBMS", difficulty: "easy" },

    // --- OOPS (50 Questions) ---
    { text: "What is Object-Oriented Programming (OOP)?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What are the 4 pillars of OOP?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is a Class?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is an Object?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "Explain Encapsulation.", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "Explain Abstraction.", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is Inheritance? Types?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "Explain Polymorphism.", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "Compile-time vs Runtime Polymorphism.", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is Function Overloading?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is Function Overriding?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is a Constructor?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "Types of Constructors.", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is a Copy Constructor?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is a Destructor?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is the 'this' pointer?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is a Virtual Function?", type: "dsa", topic: "OOPS", difficulty: "hard" },
    { text: "What is a Pure Virtual Function?", type: "dsa", topic: "OOPS", difficulty: "hard" },
    { text: "What is an Abstract Class?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "Difference between Abstract Class and Interface.", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is a Friend Function?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is a Static Member?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "Explain Access Specifiers (public, private, protected).", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is Multiple Inheritance? Problems with it?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is the Diamond Problem?", type: "dsa", topic: "OOPS", difficulty: "hard" },
    { text: "What is Operator Overloading?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is Exception Handling?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is a Template in C++ (or Generics in Java)?", type: "dsa", topic: "OOPS", difficulty: "hard" },
    { text: "Deep Copy vs Shallow Copy.", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is Aggregation?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is Composition?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "Difference between Aggregation and Composition.", type: "dsa", topic: "OOPS", difficulty: "hard" },
    { text: "What is Association?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is Method Hiding?", type: "dsa", topic: "OOPS", difficulty: "hard" },
    { text: "Can we overload the main method?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "Can we override a static method?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "Can a constructor be private?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is the super keyword?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What represent 'is-a' relationship?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What represent 'has-a' relationship?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is Early Binding vs Late Binding?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is a Final Class?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is a Singleton Pattern?", type: "dsa", topic: "OOPS", difficulty: "hard" },
    { text: "What is Coupling?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is Cohesion?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "Why is multiple inheritance not supported in Java?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is the difference between specific Error and Exception?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "What is Garbage Collection?", type: "dsa", topic: "OOPS", difficulty: "easy" },
    { text: "What is a memory leak?", type: "dsa", topic: "OOPS", difficulty: "medium" },
    { text: "How does polymorphism help in maintainability?", type: "dsa", topic: "OOPS", difficulty: "hard" },

    // --- Web Development (50 Questions) ---
    { text: "What is HTML?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is CSS?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is JavaScript?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "Difference between var, let, and const.", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is the DOM?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "Explain Event Bubbling and Capturing.", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is a Closure in JS?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is Hoisting?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "Explain Promises in JS.", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "Async/Await explanation.", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is `this` keyword in JS?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "Difference between == and ===.", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is AJAX?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is JSON?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is a REST API?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "Explain HTTP methods (GET, POST, PUT, DELETE).", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What are HTTP status codes (200, 404, 500)?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is CORS?", type: "dsa", topic: "Web Development", difficulty: "hard" },
    { text: "What is LocalStorage vs SessionStorage vs Cookies?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is React?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is JSX?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What are Hooks in React?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "Explain useState and useEffect.", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is the Virtual DOM?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "Props vs State.", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is Redux? (Basic concept)", type: "dsa", topic: "Web Development", difficulty: "hard" },
    { text: "What is Node.js?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "Difference between client-side and server-side rendering.", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is Express.js?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is Middleware in Express?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "SQL vs NoSQL databases.", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is authentication vs authorization?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is JWT?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "How to secure a REST API?", type: "dsa", topic: "Web Development", difficulty: "hard" },
    { text: "What is XSS (Cross-Site Scripting)?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is CSRF?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "Explain MVC architecture.", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is Git?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "What is a responsive design?", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "CSS Box Model explanation.", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "Flexbox vs Grid.", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is a CSS Preprocessor (Sass/Less)?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is Bundling (Webpack)?", type: "dsa", topic: "Web Development", difficulty: "hard" },
    { text: "What is Babel?", type: "dsa", topic: "Web Development", difficulty: "hard" },
    { text: "What is CI/CD?", type: "dsa", topic: "Web Development", difficulty: "medium" },
    { text: "What is Docker?", type: "dsa", topic: "Web Development", difficulty: "hard" },
    { text: "What is Microservices architecture?", type: "dsa", topic: "Web Development", difficulty: "hard" },
    { text: "What is GraphQL?", type: "dsa", topic: "Web Development", difficulty: "hard" },
    { text: "Difference between HTTP and HTTPS.", type: "dsa", topic: "Web Development", difficulty: "easy" },
    { text: "Web accessibility (a11y) basics.", type: "dsa", topic: "Web Development", difficulty: "medium" },

    // --- MCQ Questions (Multiple Choice) ---
    {
        text: "Which of the following data structures follows the LIFO (Last In First Out) principle?",
        type: "dsa",
        topic: "DSA",
        difficulty: "easy",
        options: ["Queue", "Stack", "Linked List", "Tree"],
        correctAnswer: "Stack"
    },
    {
        text: "What is the time complexity of searching for an element in a balanced Binary Search Tree (BST)?",
        type: "dsa",
        topic: "DSA",
        difficulty: "medium",
        options: ["O(1)", "O(n)", "O(log n)", "O(n log n)"],
        correctAnswer: "O(log n)"
    },
    {
        text: "Which SQL clause is used to filter the results of an aggregate function?",
        type: "dsa",
        topic: "DBMS",
        difficulty: "medium",
        options: ["WHERE", "HAVING", "GROUP BY", "ORDER BY"],
        correctAnswer: "HAVING"
    },
    {
        text: "In Object-Oriented Programming, what is the process of wrapping data and methods into a single unit called?",
        type: "dsa",
        topic: "OOPS",
        difficulty: "easy",
        options: ["Inheritance", "Polymorphism", "Encapsulation", "Abstraction"],
        correctAnswer: "Encapsulation"
    },
    {
        text: "Which of the following is NOT a fundamental pillar of OOP?",
        type: "dsa",
        topic: "OOPS",
        difficulty: "easy",
        options: ["Inheritance", "Compilation", "Polymorphism", "Encapsulation"],
        correctAnswer: "Compilation"
    }
];

const seedDB = async () => {
    try {
        await mongoose.connect(process.env.MONGO_URI);
        console.log('‚úÖ Connected to DB');

        // Clear existing questions
        await Question.deleteMany({});
        console.log('üóëÔ∏è  Existing questions deleted');

        // Insert new questions
        await Question.insertMany(questions);
        console.log(`‚úÖ Seeded ${questions.length} questions successfully`);

        process.exit();
    } catch (err) {
        console.error('‚ùå Error seeding DB:', err);
        process.exit(1);
    }
};

seedDB();
